Выполненное задание. 
Надеюсь все понял правильно, хотя во время выполнения были вопросы по формулировки
